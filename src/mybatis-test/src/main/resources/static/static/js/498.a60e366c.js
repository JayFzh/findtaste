"use strict";(self["webpackChunkuntitled"]=self["webpackChunkuntitled"]||[]).push([[498],{2498:function(e,t,l){l.r(t),l.d(t,{default:function(){return D}});var a=l(3396),n=l(4870),s=l(3399),i=l(7178),u=l(7139);const o={class:"textarea-wrap"},r=["placeholder"];function d(e,t,l,n,s,i){return(0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",{autocapitalize:"off",class:"mTextarea",ref:"mTextarea",onInput:t[0]||(t[0]=(...e)=>i.input&&i.input(...e)),style:(0,u.j5)(i.style),contenteditable:"true",placeholder:l.placeholder},null,44,r)])}var c={props:{placeholder:{type:String,default:"请输入发布内容"},maxlength:{type:Number,default:99999},rows:{type:Number,default:6},fontSize:{type:Number,default:30},lineHeight:{type:Number,default:1.5},value:{type:String,default:""}},computed:{style(){return{fontSize:this.fontSize/25+"rem",lineHeight:this.lineHeight,maxHeight:this.rows*this.fontSize/25*this.lineHeight+"rem"}}},data(){return{mTextarea:""}},watch:{value(){this.value||(this.mTextarea.innerText="")}},mounted(){this.$nextTick((()=>{this.mTextarea=this.$refs.mTextarea,this.mTextarea.innerText=this.value}))},methods:{input(){let e=this.mTextarea.innerText;e.length>=this.maxlength&&(e=e.substring(0,this.maxlength),this.mTextarea.innerText=e,this.setFocus()),1===this.mTextarea.innerText.length&&this.mTextarea.innerHTML.includes("br")&&(this.mTextarea.innerText="",e=""),this.$emit("input",e)},setFocus(){let e=window.getSelection(),t=document.createRange();t.selectNodeContents(this.mTextarea),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}}},p=l(89);const h=(0,p.Z)(c,[["render",d],["__scopeId","data-v-6a7107f6"]]);var m=h;const g=e=>((0,a.dD)("data-v-a157f636"),e=e(),(0,a.Cn)(),e),v=g((()=>(0,a._)("span",{style:{"margin-right":"10px"}},"选择味道",-1)));function f(e,t,l,n,s,i){const u=(0,a.up)("el-option"),o=(0,a.up)("el-select");return(0,a.wg)(),(0,a.iD)("div",null,[v,(0,a.Wm)(o,{modelValue:s.sValue,"onUpdate:modelValue":t[0]||(t[0]=e=>s.sValue=e),filterable:"",placeholder:"请选择",onChange:i.change},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.select,(e=>((0,a.wg)(),(0,a.j4)(u,{key:e.value,value:e.value},null,8,["value"])))),128))])),_:1},8,["modelValue","onChange"])])}var x={name:"selectBox",props:{select:Object},data(){return{sValue:this.select.result}},computed:{value:{get(){return this.select.result&&this.change(this.select.result),this.select.result}}},methods:{change(e){console.log(e),this.select.result=e,this.$emit("changeOption",e)}}};const _=(0,p.Z)(x,[["render",f],["__scopeId","data-v-a157f636"]]);var w=_,b=l(2464);const T=e=>((0,a.dD)("data-v-84066d58"),e=e(),(0,a.Cn)(),e),y={style:{"max-width":"400px","margin-left":"300px","padding-top":"10px"},class:"container"},S={style:{"padding-bottom":"20px"},class:"text-container"},U=T((()=>(0,a._)("span",null,"味道描述",-1))),k=T((()=>(0,a._)("br",null,null,-1))),H={style:{"padding-bottom":"20px"},class:"select-container"},C=T((()=>(0,a._)("span",null,"图片描述",-1))),V=T((()=>(0,a._)("div",{class:"el-upload__text"},"拖曳文件至此或点击选择要上传的文件",-1))),z=T((()=>(0,a._)("div",{class:"el-upload__tip"}," 每个文件大小不超过5M，每次最多上传5个文件。 ",-1)));var I={__name:"reqModule",setup(e){const t=s.Z.defaults.baseURL,l="/upload";let u="",o=(0,n.iH)(""),r=[{value:"家常味道"},{value:"辣"}];const d=(0,n.iH)([]),c=(0,n.qj)({Authorization:"Bearer "+window.localStorage.getItem("token")}),p=(0,n.iH)(),h=e=>{console.log(u),u=e},g=()=>{p.value.append("id",b.Z.state.userInfo.data.userId),p.value.append("taste",u),p.value.append("body",o),p.value.submit(),console.log("11")},v=()=>{p.value.clearFiles(),i.z8.success("上传成功！")},f=(e,t)=>{d.value=t},x=(e,t)=>{d.value=t};return(e,s)=>{const i=(0,a.up)("upload-filled"),u=(0,a.up)("el-icon"),_=(0,a.up)("el-upload"),b=(0,a.up)("el-button");return(0,a.wg)(),(0,a.iD)("div",y,[(0,a._)("div",S,[U,k,(0,a.Wm)((0,n.SU)(m),{modelValue:(0,n.SU)(o),"onUpdate:modelValue":s[0]||(s[0]=e=>(0,n.dq)(o)?o.value=e:o=e),placeholder:"请输入发布内容",rows:6,maxlength:200},null,8,["modelValue"])]),(0,a._)("div",H,[(0,a.Wm)((0,n.SU)(w),{select:(0,n.SU)(r),onChangeoption:h},null,8,["select"])]),C,(0,a.Wm)(_,{ref_key:"refUpload",ref:p,"auto-upload":!1,limit:5,class:"upload-files-box",drag:"",action:(0,n.SU)(t)+l,multiple:"",headers:c,"on-success":v,"file-list":d.value,"onUpdate:file-list":s[1]||(s[1]=e=>d.value=e),"on-change":f,"on-remove":x},{tip:(0,a.w5)((()=>[z])),default:(0,a.w5)((()=>[(0,a.Wm)(u,{class:"el-icon--upload"},{default:(0,a.w5)((()=>[(0,a.Wm)(i)])),_:1}),V])),_:1},8,["action","headers","file-list"]),(0,a.Wm)(b,{class:"upLoadBtn",type:"success",onClick:g,disabled:0===d.value.length},{default:(0,a.w5)((()=>[(0,a.Uk)(" 上传到服务器 ")])),_:1},8,["disabled"])])}}};const W=(0,p.Z)(I,[["__scopeId","data-v-84066d58"]]);var D=W}}]);
//# sourceMappingURL=498.a60e366c.js.map